# Reject Reason Analyzer – Shinra Docs Experiment

This project is a small experiment in building a function to **analyze text-based rejection reasons** generated by an AI system.  
The goal is to use these reasons to determine which documents a user needs to re-upload during the verification process.

The case study assumes a verification application within a fictional system called **Shinra**.
When a user uploads documents, an AI may return rejection reasons such as "photo is blurry" or "license plate does not match."  
From these reasons, the analyzer function attempts to **categorize issues into document types**, such as:

- **Registration Document** (e.g., certificates, permits)
- **Vehicle Document** (vehicle photos, license plates, color, etc.)
- **ID Card** (identity documents such as ID card, driver’s license)

This categorization can help the system automatically decide whether a user needs to re-upload a specific type of document.

---

## Live Demo

Try the live demo of the analyzer here:  
[Shinra Reject Analyzer Demo](https://shinrarejectanalyzer.netlify.app/)

---

## Features

- Text analysis using **string matching** and **similarity scoring** (`dice-coefficient`)
- Categorize each reason into document types:
  - Registration Document
  - Vehicle Document
  - ID Card
- Display analysis results in a clear badge-style interface.
- Fill examples for testing.

---

## Screenshot

![Shinra Reject Analyzer](/public/screenshot.png)

---

## Helper Functions

The core logic lives in `helpers.js`, which provides two functions:

```js
import { diceCoefficient as dice } from 'dice-coefficient';

/**
 * Analyze a single rejection reason
 * Returns { registrationDoc, vehicleDoc, idCardDoc }
 */
export function analyzeRejectReason(reason) { ... }

/**
 * Get a global conclusion from multiple rejection reasons
 */
export function getRejectReasonConclusion(reasons = []) { ... }
```

Example usage:

```js
analyzeRejectReason("Photo of ID Card is blurry");

/*
{
  registrationDoc: false,
  vehicleDoc: false,
  idCardDoc: true
}
*/
```

---

## Demo Application

A simple React app (`App.js`) is provided for testing. It includes:

- A textarea for entering multiple rejection reasons (one per line)
- A button to run the analysis
- A button to fill example reasons
- Results displayed per reason with labeled categories

Example output:

```
Reject Reason Analyzer

Input:
- Registration certificate does not match
- Photo of ID Card is blurry

Analysis Result:
- Registration certificate does not match
   Registration Document: Needs Update | Vehicle Document: OK | ID Card: OK

- Photo of ID Card is blurry
   Registration Document: OK | Vehicle Document: OK | ID Card: Needs Update
```

---

## Example Dataset

The following sample rejection reasons are used for testing:

- `Registration certificate does not match`
- `License plate number in vehicle front photo is different`
- `Vehicle photo is not the same vehicle`
- `Photocopy of registration`
- `Photo of ID Card is blurry`
- `Registration certificate and ID Card do not match`
- `Vehicle photo and registration certificate mismatch`

---

## Running the Project

1. Clone the repository or copy the source files
2. Install dependencies:

   ```bash
   npm install dice-coefficient
   npm install
   ```

3. Start the development server:

   ```bash
   npm start
   ```

4. Open the app in a browser and try analyzing rejection reasons

---

## Future Improvements

- Add support for additional document types (e.g., Insurance, Utility Bills)
- Integrate with the Shinra backend to trigger automated re-upload requests
- Evaluate accuracy against real-world AI rejection datasets

---

## Notes

- This project is licensed under **MIT** → free to study, modify, and use.
- It is not an official library, but rather a pattern & experiment for engineers.

---

## License

MIT © dimaspandu
